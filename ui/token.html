<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pacai.ui.token API documentation</title>
<meta name="description" content="Tokens are the atomic unit of frames.
A token represents any object that can be on a pacman board (including the walls).
A frame really consists of a â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pacai.ui.token</code></h1>
</header>
<section id="section-intro">
<p>Tokens are the atomic unit of frames.
A token represents any object that can be on a pacman board (including the walls).
A frame really consists of a collection of tokens.
It is up to specific views to know how to interpret tokens into displayable objects.</p>
<p>Internally tokens are just ints, so we can do math on them.
We typically reserve a range of numbers for some related type of tokens,
like all walls or agents.
Then, we establish some "base" tokens within each group,
like the first red wall or the first yellow pacman.
Then, we can add known/computed constants to the base tokens to get a specific token,
like a red top-left corner wall or a pacman facing up with an open mouth.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Tokens are the atomic unit of frames.
A token represents any object that can be on a pacman board (including the walls).
A frame really consists of a collection of tokens.
It is up to specific views to know how to interpret tokens into displayable objects.

Internally tokens are just ints, so we can do math on them.
We typically reserve a range of numbers for some related type of tokens,
like all walls or agents.
Then, we establish some &#34;base&#34; tokens within each group,
like the first red wall or the first yellow pacman.
Then, we can add known/computed constants to the base tokens to get a specific token,
like a red top-left corner wall or a pacman facing up with an open mouth.
&#34;&#34;&#34;

from pacai.core.directions import Directions

# There are 4 frames in each animation cycle.
# See getAnimationToken() for details on how animation frames are laid out.
ANIMATION_CYCLE = 4

EMPTY_TOKEN = 0
HIGHLIGHT_TOKEN = 1
SCARED_GHOST_TOKEN = 10

# Reserve 100s for food.
FOOD_START = 100
FOOD_OFFSET = 1
CAPSULE_OFFSET = 2
DEFAULT_FOOD_BASE = 100
RED_FOOD_BASE = 110
BLUE_FOOD_BASE = 120
FOOD_END = 199

# Reserve 200s for walls.
WALL_START = 200
BLUE_WALL_BASE = 200
RED_WALL_BASE = 250
WALL_END = 299

# Pacman gets the 1000s.
PACMAN_START = 1000
PACMAN_1 = 1100
PACMAN_2 = 1200
PACMAN_3 = 1300
PACMAN_4 = 1400
PACMAN_5 = 1500
PACMAN_6 = 1600
PACMAN_7 = 1700
PACMAN_END = 1800

# Ghosts get the 2000s.
GHOST_START = 2000
GHOST_1 = 2100
GHOST_2 = 2200
GHOST_3 = 2300
GHOST_4 = 2400
GHOST_5 = 2500
GHOST_6 = 2600
GHOST_END = 2700

def getAnimationToken(baseToken, direction, frame):
    &#34;&#34;&#34;
    Get the token for a specific animation frame (for an agent).
    Animation frames are grouped by direction.
    The initial frame (0) is always the stopped animation.
    Then the cardinal directions (NESW) are cycled through.
    Each direction has ANIMATION_CYCLE number of tokens.
    &#34;&#34;&#34;

    if (direction == Directions.STOP):
        return baseToken

    directionIndex = Directions.CARDINAL.index(direction)

    return baseToken + 1 + (directionIndex * ANIMATION_CYCLE) + (frame % ANIMATION_CYCLE)

def getWallToken(baseToken, hasWallN, hasWallE, hasWallS, hasWallW):
    &#34;&#34;&#34;
    Given information about a wall&#39;s cardinal neighbors,
    compute the correct type of wall to use.
    To get the pacman &#34;tubular&#34; look, adjacent walls will look connected
    and not have a line between them.
    The computation is similar to POSIX permission bits,
    all combinations produce unique sums.
    &#34;&#34;&#34;

    N_WALL = 1
    S_WALL = 2
    E_WALL = 4
    W_WALL = 8

    token = baseToken

    if (hasWallN):
        token += N_WALL

    if (hasWallE):
        token += E_WALL

    if (hasWallS):
        token += S_WALL

    if (hasWallW):
        token += W_WALL

    return token

def isCapsule(token):
    return token &gt;= FOOD_START and token &lt;= FOOD_END and token % 2 == 0

def isFood(token):
    return token &gt;= FOOD_START and token &lt;= FOOD_END and token % 2 == 1

def isGhost(token):
    return token &gt;= GHOST_START and token &lt;= GHOST_END

def isPacman(token):
    return token &gt;= PACMAN_START and token &lt;= PACMAN_END

def isWall(token):
    return token &gt;= WALL_START and token &lt;= WALL_END</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="pacai.ui.token.getAnimationToken"><code class="name flex">
<span>def <span class="ident">getAnimationToken</span></span>(<span>baseToken, direction, frame)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the token for a specific animation frame (for an agent).
Animation frames are grouped by direction.
The initial frame (0) is always the stopped animation.
Then the cardinal directions (NESW) are cycled through.
Each direction has ANIMATION_CYCLE number of tokens.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getAnimationToken(baseToken, direction, frame):
    &#34;&#34;&#34;
    Get the token for a specific animation frame (for an agent).
    Animation frames are grouped by direction.
    The initial frame (0) is always the stopped animation.
    Then the cardinal directions (NESW) are cycled through.
    Each direction has ANIMATION_CYCLE number of tokens.
    &#34;&#34;&#34;

    if (direction == Directions.STOP):
        return baseToken

    directionIndex = Directions.CARDINAL.index(direction)

    return baseToken + 1 + (directionIndex * ANIMATION_CYCLE) + (frame % ANIMATION_CYCLE)</code></pre>
</details>
</dd>
<dt id="pacai.ui.token.getWallToken"><code class="name flex">
<span>def <span class="ident">getWallToken</span></span>(<span>baseToken, hasWallN, hasWallE, hasWallS, hasWallW)</span>
</code></dt>
<dd>
<div class="desc"><p>Given information about a wall's cardinal neighbors,
compute the correct type of wall to use.
To get the pacman "tubular" look, adjacent walls will look connected
and not have a line between them.
The computation is similar to POSIX permission bits,
all combinations produce unique sums.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getWallToken(baseToken, hasWallN, hasWallE, hasWallS, hasWallW):
    &#34;&#34;&#34;
    Given information about a wall&#39;s cardinal neighbors,
    compute the correct type of wall to use.
    To get the pacman &#34;tubular&#34; look, adjacent walls will look connected
    and not have a line between them.
    The computation is similar to POSIX permission bits,
    all combinations produce unique sums.
    &#34;&#34;&#34;

    N_WALL = 1
    S_WALL = 2
    E_WALL = 4
    W_WALL = 8

    token = baseToken

    if (hasWallN):
        token += N_WALL

    if (hasWallE):
        token += E_WALL

    if (hasWallS):
        token += S_WALL

    if (hasWallW):
        token += W_WALL

    return token</code></pre>
</details>
</dd>
<dt id="pacai.ui.token.isCapsule"><code class="name flex">
<span>def <span class="ident">isCapsule</span></span>(<span>token)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def isCapsule(token):
    return token &gt;= FOOD_START and token &lt;= FOOD_END and token % 2 == 0</code></pre>
</details>
</dd>
<dt id="pacai.ui.token.isFood"><code class="name flex">
<span>def <span class="ident">isFood</span></span>(<span>token)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def isFood(token):
    return token &gt;= FOOD_START and token &lt;= FOOD_END and token % 2 == 1</code></pre>
</details>
</dd>
<dt id="pacai.ui.token.isGhost"><code class="name flex">
<span>def <span class="ident">isGhost</span></span>(<span>token)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def isGhost(token):
    return token &gt;= GHOST_START and token &lt;= GHOST_END</code></pre>
</details>
</dd>
<dt id="pacai.ui.token.isPacman"><code class="name flex">
<span>def <span class="ident">isPacman</span></span>(<span>token)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def isPacman(token):
    return token &gt;= PACMAN_START and token &lt;= PACMAN_END</code></pre>
</details>
</dd>
<dt id="pacai.ui.token.isWall"><code class="name flex">
<span>def <span class="ident">isWall</span></span>(<span>token)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def isWall(token):
    return token &gt;= WALL_START and token &lt;= WALL_END</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pacai.ui" href="index.html">pacai.ui</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="pacai.ui.token.getAnimationToken" href="#pacai.ui.token.getAnimationToken">getAnimationToken</a></code></li>
<li><code><a title="pacai.ui.token.getWallToken" href="#pacai.ui.token.getWallToken">getWallToken</a></code></li>
<li><code><a title="pacai.ui.token.isCapsule" href="#pacai.ui.token.isCapsule">isCapsule</a></code></li>
<li><code><a title="pacai.ui.token.isFood" href="#pacai.ui.token.isFood">isFood</a></code></li>
<li><code><a title="pacai.ui.token.isGhost" href="#pacai.ui.token.isGhost">isGhost</a></code></li>
<li><code><a title="pacai.ui.token.isPacman" href="#pacai.ui.token.isPacman">isPacman</a></code></li>
<li><code><a title="pacai.ui.token.isWall" href="#pacai.ui.token.isWall">isWall</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>
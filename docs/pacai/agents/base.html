<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pacai.agents.base API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pacai.agents.base</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import abc
import glob
import logging
import os

from pacai.util import reflection

class BaseAgent(abc.ABC):
    &#34;&#34;&#34;
    An agent is something in the pacman world that does something (takes some action).
    Could be a ghost, the player controlled pacman, an AI controlled pacman, etc.

    An agent must define the `BaseAgent.getAction` method,
    but may also override any of the other methods.

    Note that methods that take in a state should assume that they own a shallow copy of the state.
    So the state should not be modified and a deep copy should be made of any information
    they want to keep.

    Non-abstract children should make sure that their constructors accept `**kwargs`,
    since agents are typically created reflexively.
    &#34;&#34;&#34;

    def __init__(self, index = 0, **kwargs):
        self.index = index
        self.kwargs = kwargs

    @abc.abstractmethod
    def getAction(self, state):
        &#34;&#34;&#34;
        The BaseAgent will receive an `pacai.core.gamestate.AbstractGameState`,
        and must return an action from `pacai.core.directions.Directions`.
        &#34;&#34;&#34;

        pass

    def registerInitialState(self, state):
        &#34;&#34;&#34;
        Inspect the starting state.
        &#34;&#34;&#34;

        pass

    def observationFunction(self, state):
        &#34;&#34;&#34;
        Make an observation on the state of the game.
        Called once for each round of the game.
        &#34;&#34;&#34;

        pass

    def final(self, state):
        &#34;&#34;&#34;
        Inform the agent about the result of a game.
        &#34;&#34;&#34;

        pass

    @staticmethod
    def loadAgent(name, index, args = {}):
        &#34;&#34;&#34;
        Load an agent with the given class name.
        The name can be fully qualified or just the bare class name.
        If the bare name is given, the class should appear in the
        `pacai.agents` or `pacai.student` package.
        &#34;&#34;&#34;

        if (name.startswith(&#39;pacai.&#39;)):
            # This name looks like a fully qualified name, load it directly.
            agentClass = reflection.qualifiedImport(name)
            return agentClass(index = index, **args)
        else:
            # This is probably just a class name.
            return BaseAgent._loadAgentByName(name, index, args)

    @staticmethod
    def _loadAgentByName(className, index, args = {}):
        &#34;&#34;&#34;
        Create an agent of the given class with the given index and args.
        This will search the `pacai.agents` package as well as the `pacai.student` package
        for an agent with the given class name.
        &#34;&#34;&#34;

        thisDir = os.path.dirname(__file__)

        BaseAgent._importAgents(os.path.join(thisDir, &#39;*.py&#39;), &#39;pacai.agents.%s&#39;)
        BaseAgent._importAgents(os.path.join(thisDir, &#39;..&#39;, &#39;student&#39;, &#39;*.py&#39;),
                &#39;pacai.student.%s&#39;)

        # Also check any subpackages of pacai.agents.
        for path in glob.glob(os.path.join(thisDir, &#39;*&#39;)):
            if (os.path.isfile(path)):
                continue

            if (os.path.basename(path).startswith(&#39;__&#39;)):
                continue

            packageName = os.path.basename(path)
            packageFormatString = &#39;pacai.agents.%s.%%s&#39; % (packageName)

            BaseAgent._importAgents(os.path.join(path, &#39;*.py&#39;), packageFormatString)

        # Now that the agent classes have been loaded, just look for subclasses.
        for subclass in reflection.getAllDescendents(BaseAgent):
            if (subclass.__name__ == className):
                return subclass(index = index, **args)

        raise LookupError(&#39;Could not find an agent with the name: &#39; + className)

    @staticmethod
    def _importAgents(globPath, packageFormatString):
        &#34;&#34;&#34;
        Load all the agents from this package.
        Note that we are explicitly doing this now so that others are not
        required to pre-load all the possible agents.
        We don&#39;t need the module in scope, we just need the import to run.
        &#34;&#34;&#34;

        for path in glob.glob(globPath):
            if (not os.path.isfile(path)):
                continue

            if (os.path.basename(path) in [&#39;__init__.py&#39;, os.path.basename(__file__)]):
                continue

            # Ignore the rest of the path and extension.
            moduleName = os.path.basename(path)[:-3]

            try:
                __import__(packageFormatString % (moduleName))
            except ImportError as ex:
                logging.warning(&#39;Unable to import agent: &#34;%s&#34;. -- %s&#39; % (moduleName, str(ex)))</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pacai.agents.base.BaseAgent"><code class="flex name class">
<span>class <span class="ident">BaseAgent</span></span>
<span>(</span><span>index=0, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>An agent is something in the pacman world that does something (takes some action).
Could be a ghost, the player controlled pacman, an AI controlled pacman, etc.</p>
<p>An agent must define the <code><a title="pacai.agents.base.BaseAgent.getAction" href="#pacai.agents.base.BaseAgent.getAction">BaseAgent.getAction()</a></code> method,
but may also override any of the other methods.</p>
<p>Note that methods that take in a state should assume that they own a shallow copy of the state.
So the state should not be modified and a deep copy should be made of any information
they want to keep.</p>
<p>Non-abstract children should make sure that their constructors accept <code>**kwargs</code>,
since agents are typically created reflexively.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class BaseAgent(abc.ABC):
    &#34;&#34;&#34;
    An agent is something in the pacman world that does something (takes some action).
    Could be a ghost, the player controlled pacman, an AI controlled pacman, etc.

    An agent must define the `BaseAgent.getAction` method,
    but may also override any of the other methods.

    Note that methods that take in a state should assume that they own a shallow copy of the state.
    So the state should not be modified and a deep copy should be made of any information
    they want to keep.

    Non-abstract children should make sure that their constructors accept `**kwargs`,
    since agents are typically created reflexively.
    &#34;&#34;&#34;

    def __init__(self, index = 0, **kwargs):
        self.index = index
        self.kwargs = kwargs

    @abc.abstractmethod
    def getAction(self, state):
        &#34;&#34;&#34;
        The BaseAgent will receive an `pacai.core.gamestate.AbstractGameState`,
        and must return an action from `pacai.core.directions.Directions`.
        &#34;&#34;&#34;

        pass

    def registerInitialState(self, state):
        &#34;&#34;&#34;
        Inspect the starting state.
        &#34;&#34;&#34;

        pass

    def observationFunction(self, state):
        &#34;&#34;&#34;
        Make an observation on the state of the game.
        Called once for each round of the game.
        &#34;&#34;&#34;

        pass

    def final(self, state):
        &#34;&#34;&#34;
        Inform the agent about the result of a game.
        &#34;&#34;&#34;

        pass

    @staticmethod
    def loadAgent(name, index, args = {}):
        &#34;&#34;&#34;
        Load an agent with the given class name.
        The name can be fully qualified or just the bare class name.
        If the bare name is given, the class should appear in the
        `pacai.agents` or `pacai.student` package.
        &#34;&#34;&#34;

        if (name.startswith(&#39;pacai.&#39;)):
            # This name looks like a fully qualified name, load it directly.
            agentClass = reflection.qualifiedImport(name)
            return agentClass(index = index, **args)
        else:
            # This is probably just a class name.
            return BaseAgent._loadAgentByName(name, index, args)

    @staticmethod
    def _loadAgentByName(className, index, args = {}):
        &#34;&#34;&#34;
        Create an agent of the given class with the given index and args.
        This will search the `pacai.agents` package as well as the `pacai.student` package
        for an agent with the given class name.
        &#34;&#34;&#34;

        thisDir = os.path.dirname(__file__)

        BaseAgent._importAgents(os.path.join(thisDir, &#39;*.py&#39;), &#39;pacai.agents.%s&#39;)
        BaseAgent._importAgents(os.path.join(thisDir, &#39;..&#39;, &#39;student&#39;, &#39;*.py&#39;),
                &#39;pacai.student.%s&#39;)

        # Also check any subpackages of pacai.agents.
        for path in glob.glob(os.path.join(thisDir, &#39;*&#39;)):
            if (os.path.isfile(path)):
                continue

            if (os.path.basename(path).startswith(&#39;__&#39;)):
                continue

            packageName = os.path.basename(path)
            packageFormatString = &#39;pacai.agents.%s.%%s&#39; % (packageName)

            BaseAgent._importAgents(os.path.join(path, &#39;*.py&#39;), packageFormatString)

        # Now that the agent classes have been loaded, just look for subclasses.
        for subclass in reflection.getAllDescendents(BaseAgent):
            if (subclass.__name__ == className):
                return subclass(index = index, **args)

        raise LookupError(&#39;Could not find an agent with the name: &#39; + className)

    @staticmethod
    def _importAgents(globPath, packageFormatString):
        &#34;&#34;&#34;
        Load all the agents from this package.
        Note that we are explicitly doing this now so that others are not
        required to pre-load all the possible agents.
        We don&#39;t need the module in scope, we just need the import to run.
        &#34;&#34;&#34;

        for path in glob.glob(globPath):
            if (not os.path.isfile(path)):
                continue

            if (os.path.basename(path) in [&#39;__init__.py&#39;, os.path.basename(__file__)]):
                continue

            # Ignore the rest of the path and extension.
            moduleName = os.path.basename(path)[:-3]

            try:
                __import__(packageFormatString % (moduleName))
            except ImportError as ex:
                logging.warning(&#39;Unable to import agent: &#34;%s&#34;. -- %s&#39; % (moduleName, str(ex)))</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="pacai.agents.capture.capture.CaptureAgent" href="capture/capture.html#pacai.agents.capture.capture.CaptureAgent">CaptureAgent</a></li>
<li><a title="pacai.agents.ghost.base.GhostAgent" href="ghost/base.html#pacai.agents.ghost.base.GhostAgent">GhostAgent</a></li>
<li><a title="pacai.agents.gowest.GoWestAgent" href="gowest.html#pacai.agents.gowest.GoWestAgent">GoWestAgent</a></li>
<li><a title="pacai.agents.greedy.GreedyAgent" href="greedy.html#pacai.agents.greedy.GreedyAgent">GreedyAgent</a></li>
<li><a title="pacai.agents.keyboard.BaseKeyboardAgent" href="keyboard.html#pacai.agents.keyboard.BaseKeyboardAgent">BaseKeyboardAgent</a></li>
<li><a title="pacai.agents.learning.value.ValueEstimationAgent" href="learning/value.html#pacai.agents.learning.value.ValueEstimationAgent">ValueEstimationAgent</a></li>
<li><a title="pacai.agents.leftturn.LeftTurnAgent" href="leftturn.html#pacai.agents.leftturn.LeftTurnAgent">LeftTurnAgent</a></li>
<li><a title="pacai.agents.random.RandomAgent" href="random.html#pacai.agents.random.RandomAgent">RandomAgent</a></li>
<li><a title="pacai.agents.search.base.SearchAgent" href="search/base.html#pacai.agents.search.base.SearchAgent">SearchAgent</a></li>
<li><a title="pacai.agents.search.multiagent.MultiAgentSearchAgent" href="search/multiagent.html#pacai.agents.search.multiagent.MultiAgentSearchAgent">MultiAgentSearchAgent</a></li>
<li><a title="pacai.student.multiagents.ReflexAgent" href="../student/multiagents.html#pacai.student.multiagents.ReflexAgent">ReflexAgent</a></li>
<li><a title="pacai.student.searchAgents.ApproximateSearchAgent" href="../student/searchAgents.html#pacai.student.searchAgents.ApproximateSearchAgent">ApproximateSearchAgent</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="pacai.agents.base.BaseAgent.loadAgent"><code class="name flex">
<span>def <span class="ident">loadAgent</span></span>(<span>name, index, args={})</span>
</code></dt>
<dd>
<div class="desc"><p>Load an agent with the given class name.
The name can be fully qualified or just the bare class name.
If the bare name is given, the class should appear in the
<code><a title="pacai.agents" href="index.html">pacai.agents</a></code> or <code><a title="pacai.student" href="../student/index.html">pacai.student</a></code> package.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def loadAgent(name, index, args = {}):
    &#34;&#34;&#34;
    Load an agent with the given class name.
    The name can be fully qualified or just the bare class name.
    If the bare name is given, the class should appear in the
    `pacai.agents` or `pacai.student` package.
    &#34;&#34;&#34;

    if (name.startswith(&#39;pacai.&#39;)):
        # This name looks like a fully qualified name, load it directly.
        agentClass = reflection.qualifiedImport(name)
        return agentClass(index = index, **args)
    else:
        # This is probably just a class name.
        return BaseAgent._loadAgentByName(name, index, args)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pacai.agents.base.BaseAgent.final"><code class="name flex">
<span>def <span class="ident">final</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"><p>Inform the agent about the result of a game.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def final(self, state):
    &#34;&#34;&#34;
    Inform the agent about the result of a game.
    &#34;&#34;&#34;

    pass</code></pre>
</details>
</dd>
<dt id="pacai.agents.base.BaseAgent.getAction"><code class="name flex">
<span>def <span class="ident">getAction</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"><p>The BaseAgent will receive an <code><a title="pacai.core.gamestate.AbstractGameState" href="../core/gamestate.html#pacai.core.gamestate.AbstractGameState">AbstractGameState</a></code>,
and must return an action from <code><a title="pacai.core.directions.Directions" href="../core/directions.html#pacai.core.directions.Directions">Directions</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abc.abstractmethod
def getAction(self, state):
    &#34;&#34;&#34;
    The BaseAgent will receive an `pacai.core.gamestate.AbstractGameState`,
    and must return an action from `pacai.core.directions.Directions`.
    &#34;&#34;&#34;

    pass</code></pre>
</details>
</dd>
<dt id="pacai.agents.base.BaseAgent.observationFunction"><code class="name flex">
<span>def <span class="ident">observationFunction</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"><p>Make an observation on the state of the game.
Called once for each round of the game.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def observationFunction(self, state):
    &#34;&#34;&#34;
    Make an observation on the state of the game.
    Called once for each round of the game.
    &#34;&#34;&#34;

    pass</code></pre>
</details>
</dd>
<dt id="pacai.agents.base.BaseAgent.registerInitialState"><code class="name flex">
<span>def <span class="ident">registerInitialState</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"><p>Inspect the starting state.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def registerInitialState(self, state):
    &#34;&#34;&#34;
    Inspect the starting state.
    &#34;&#34;&#34;

    pass</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pacai.agents" href="index.html">pacai.agents</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pacai.agents.base.BaseAgent" href="#pacai.agents.base.BaseAgent">BaseAgent</a></code></h4>
<ul class="">
<li><code><a title="pacai.agents.base.BaseAgent.final" href="#pacai.agents.base.BaseAgent.final">final</a></code></li>
<li><code><a title="pacai.agents.base.BaseAgent.getAction" href="#pacai.agents.base.BaseAgent.getAction">getAction</a></code></li>
<li><code><a title="pacai.agents.base.BaseAgent.loadAgent" href="#pacai.agents.base.BaseAgent.loadAgent">loadAgent</a></code></li>
<li><code><a title="pacai.agents.base.BaseAgent.observationFunction" href="#pacai.agents.base.BaseAgent.observationFunction">observationFunction</a></code></li>
<li><code><a title="pacai.agents.base.BaseAgent.registerInitialState" href="#pacai.agents.base.BaseAgent.registerInitialState">registerInitialState</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>
<div>
    <h1><u>Tournament Rankings!</u></h1>
    <table id = "rankingsTable">
        <tr>
            <th>Rank</th>
            <th>Team Name</th>
            <th>Wins</th>
            <th>Ties</th>
            <th>Losses</th>
        </tr>
    </table>
</div>
<div>
    <h1><u>Match Stats</u></h1>
    <table id = "statsTable">
        <tr>
            <th></th>
            <th>Match ID</th>
            <td>Red</td>
            <td>Blue</td>
            <td>Red Wins</td>
            <td>Blue Wins</td>
            <td>Ties</td>
        </tr>
    </table>
</div>

<script>
    fetch('/results.json')
        .then(response => response.json())
        .then(data => {
            console.log(data);
            populateRankings(data.records);
            populateStats(data.matches);
        })
        .catch(error => console.error('Error fetching data.json:', error));

        function populateRankings(records) {
            const rankingsTable = document.getElementById('rankingsTable');
            records.forEach((record, index) => {
                const row = rankingsTable.insertRow(index + 1);
                row.insertCell(0).textContent = index + 1;
                row.insertCell(1).textContent = record.name;
                row.insertCell(2).textContent = record.wins;
                row.insertCell(3).textContent = record.ties;
                row.insertCell(4).textContent = record.losses;
            });
        }

        function populateStats(matches) {
            const statsTable = document.getElementById('statsTable');

            matches.forEach((match, index) => {
                console.log(match)
                const row = statsTable.insertRow(index + 1);
                row.insertCell(0).innerHTML = '<a href="${match.index | reURL}">View HTML</a>';
                row.insertCell(1).textContent = match.red.name;
                row.insertCell(2).textContent = match.blue.name;
                row.insertCell(3).textContent = match.red.wins;
                row.insertCell(4).textContent = match.blue.wins;
                row.insertCell(5).textContent = match.red.ties;
                row.insertCell(6).textContent = "Download";
                row.insertCell(7).textContent = "Download";
            });
        }
</script>
